<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts/built_in_attributes_and_fat_obj" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Built-in Attributes &amp; FatObj | Ribir</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ribir.org/docs/next/concepts/built_in_attributes_and_fat_obj"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Built-in Attributes &amp; FatObj | Ribir"><meta data-rh="true" name="description" content="Ribir provides a powerful built-in attribute system that allows you to add common functionality to any Widget, such as layout control (margin, alignment), visual effects (background, border, opacity, transform), and interaction events (ontap, onhover). These features are not implemented individually by each Widget, but are provided through a universal wrapper called FatObj."><meta data-rh="true" property="og:description" content="Ribir provides a powerful built-in attribute system that allows you to add common functionality to any Widget, such as layout control (margin, alignment), visual effects (background, border, opacity, transform), and interaction events (ontap, onhover). These features are not implemented individually by each Widget, but are provided through a universal wrapper called FatObj."><link data-rh="true" rel="icon" href="/img/logo.ico"><link data-rh="true" rel="canonical" href="https://ribir.org/docs/next/concepts/built_in_attributes_and_fat_obj"><link data-rh="true" rel="alternate" href="https://ribir.org/docs/next/concepts/built_in_attributes_and_fat_obj" hreflang="en"><link data-rh="true" rel="alternate" href="https://ribir.org/zh/docs/next/concepts/built_in_attributes_and_fat_obj" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ribir.org/docs/next/concepts/built_in_attributes_and_fat_obj" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Ribir RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Ribir Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z8VRXCGSJQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Z8VRXCGSJQ",{anonymize_ip:!0})</script>




<script src="/js/style.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.1a6767ff.css">
<script src="/assets/js/runtime~main.7d6fe549.js" defer="defer"></script>
<script src="/assets/js/main.5a3e390f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Ribir" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Ribir" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ribir</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/introduction">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/introduction">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/concepts/built_in_attributes_and_fat_obj">Next</a></li><li><a class="dropdown__link" href="/docs/introduction">0.2.x</a></li><li><a class="dropdown__link" href="/docs/0.1.x/introduction">0.1.x</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/next/concepts/built_in_attributes_and_fat_obj"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/next/concepts/built_in_attributes_and_fat_obj" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/docs/next/concepts/built_in_attributes_and_fat_obj" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><a href="https://github.com/RibirX/Ribir" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/next/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/next/category/tutorial">Tutorial</a><button aria-label="Expand sidebar category &#x27;Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/next/category/core-concepts">Core Concepts</a><button aria-label="Collapse sidebar category &#x27;Core Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/concepts/declarative_ui">Declarative UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/concepts/widgets_composition">Widget System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/concepts/built_in_attributes_and_fat_obj">Built-in Attributes &amp; FatObj</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/concepts/state_management">State Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/concepts/data_sharing_and_events">Data Sharing &amp; Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/concepts/layout">Layout System</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/next/category/widget-system">Widget System</a><button aria-label="Expand sidebar category &#x27;Widget System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/next/category/advanced-topics">Advanced Topics</a><button aria-label="Expand sidebar category &#x27;Advanced Topics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Ribir<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/introduction">latest version</a></b> (<!-- -->0.2.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/next/category/core-concepts"><span itemprop="name">Core Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Built-in Attributes &amp; FatObj</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Built-in Attributes &amp; FatObj</h1>
<p>Ribir provides a powerful built-in attribute system that allows you to add common functionality to any Widget, such as layout control (margin, alignment), visual effects (background, border, opacity, transform), and interaction events (on_tap, on_hover). These features are not implemented individually by each Widget, but are provided through a universal wrapper called <code>FatObj</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the--instantiation-process">The <code>@</code> Instantiation Process<a class="hash-link" aria-label="Direct link to the--instantiation-process" title="Direct link to the--instantiation-process" href="/docs/next/concepts/built_in_attributes_and_fat_obj#the--instantiation-process">​</a></h2>
<p>When you use the <code>@</code> syntax (e.g., <code>@Text { ... }</code>) in <code>fn_widget!</code>, Ribir performs the following steps to construct the widget:</p>
<ol>
<li><strong>Get the Builder</strong>: It calls the <code>declarer()</code> method from the <code>Declare</code> trait to obtain the builder for the widget.</li>
<li><strong>Initialize Fields</strong>: For each field specified in the <code>{ ... }</code> block, it calls the corresponding <code>with_xxx()</code> method on the builder (e.g., <code>with_text(...)</code>).</li>
<li><strong>Finish Construction</strong>: Finally, it calls the builder&#x27;s <code>finish()</code> method (builder implements <code>ObjDeclarer</code> trait), to complete the construction and return the declared widget.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="declare-options"><code>#[declare]</code> Options<a class="hash-link" aria-label="Direct link to declare-options" title="Direct link to declare-options" href="/docs/next/concepts/built_in_attributes_and_fat_obj#declare-options">​</a></h3>
<p>The <code>#[declare]</code> macro supports several options to customize its behavior:</p>
<ul>
<li><strong>Default</strong>: Generates a full builder that returns <code>FatObj&lt;Stateful&lt;T&gt;&gt;</code>, enabling all built-in attributes and reactive state.</li>
<li><strong><code>#[declare(stateless)]</code></strong>: Generates a full builder that returns <code>FatObj&lt;T&gt;</code>. Supports built-in attributes, but the widget itself is not stateful.</li>
<li><strong><code>#[declare(simple)]</code></strong>: Generates a simplified builder that returns <code>Stateful&lt;T&gt;</code> (or <code>T</code> if it has no fields). This is suitable for widgets that don&#x27;t need built-in attributes.</li>
<li><strong><code>#[declare(simple, stateless)]</code></strong>: Similar to <code>simple</code>, but always returns the plain object <code>T</code>.</li>
<li><strong><code>#[declare(validate)]</code></strong>: Enables the <code>declare_validate</code> method for the widget.</li>
</ul>
<blockquote>
<p>[!NOTE]
<code>#[simple_declare]</code> is now deprecated in favor of <code>#[declare(simple)]</code>.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-fatobj">What is FatObj?<a class="hash-link" aria-label="Direct link to What is FatObj?" title="Direct link to What is FatObj?" href="/docs/next/concepts/built_in_attributes_and_fat_obj#what-is-fatobj">​</a></h2>
<p><code>FatObj&lt;T&gt;</code> is a generic struct in Ribir&#x27;s core library. Its purpose is to temporarily wrap a Widget during the build phase and attach various built-in attributes to it, such as <code>margin</code>, <code>background</code>, <code>on_tap</code>, etc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How It Works<a class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" href="/docs/next/concepts/built_in_attributes_and_fat_obj#how-it-works">​</a></h3>
<ol>
<li><strong>Lazy Initialization</strong>: <code>FatObj</code> internally maintains the state of all built-in attributes (like <code>margin</code>, <code>padding</code>, etc.), but they default to empty. Only when you explicitly use an attribute is the related widget initialized. This ensures that unused features don&#x27;t bring additional performance overhead.</li>
<li><strong>Compose</strong>: In the final stage of Widget construction, <code>FatObj</code> composes the Widget it wraps with the enabled built-in features (like <code>Padding</code>, <code>Container</code>, <code>MixBuiltin</code>, etc.) into the final Widget tree.</li>
</ol>
<p>Example: <code>Margin(MixBuiltin(Text))</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-built-in-attributes">Common Built-in Attributes<a class="hash-link" aria-label="Direct link to Common Built-in Attributes" title="Direct link to Common Built-in Attributes" href="/docs/next/concepts/built_in_attributes_and_fat_obj#common-built-in-attributes">​</a></h2>
<p>Built-in attributes are mainly divided into two categories: <strong>Properties</strong> and <strong>Events</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-properties">1. Properties<a class="hash-link" aria-label="Direct link to 1. Properties" title="Direct link to 1. Properties" href="/docs/next/concepts/built_in_attributes_and_fat_obj#1-properties">​</a></h3>
<p>These attributes are used to control the appearance and layout of Widgets.</p>
<ul>
<li>
<p><strong>Layout</strong>:</p>
<ul>
<li><code>margin</code>: Sets outer margin.</li>
<li><code>padding</code>: Sets inner padding.</li>
<li><code>h_align</code> / <code>v_align</code>: Sets horizontal/vertical alignment.</li>
<li><code>anchor</code>: Used for absolute positioning in <code>Stack</code> layout.</li>
<li><code>global_anchor_x</code> / <code>global_anchor_y</code>: Used for positioning relative to the global window.</li>
<li><code>clamp</code>: Forces constraints on the Widget&#x27;s size range (Layout Constraints).</li>
<li><code>box_fit</code>: Controls how child elements fit into container space (like fill, contain, etc.).</li>
<li><code>scrollable</code>: Controls the Widget&#x27;s scrolling behavior (X-axis, Y-axis, or both).</li>
<li><code>layout_box</code>: Controls layout box behavior.</li>
</ul>
</li>
<li>
<p><strong>Visual</strong>:</p>
<ul>
<li><code>background</code>: Sets background (color or image).</li>
<li><code>foreground</code>: Sets foreground (usually overlays on top of content).</li>
<li><code>border</code>: Sets border.</li>
<li><code>box_shadow</code>: Sets box shadow (outer shadow effect around the box).</li>
<li><code>radius</code>: Sets border radius.</li>
<li><code>backdrop</code>: Sets backdrop (background effect).</li>
<li><code>opacity</code>: Sets opacity.</li>
<li><code>visible</code>: Controls visibility.</li>
<li><code>transform</code>: Applies graphic transformations (translation, rotation, scaling).</li>
<li><code>cursor</code>: Sets cursor style when hovering.</li>
<li><code>backdrop_filter</code>: Applies background filter effects (like blur).</li>
<li><code>filter</code>: Applies visual filter effects (blur, grayscale, brightness, etc.).</li>
<li><code>clip_boundary</code>: Whether to clip content beyond boundaries.</li>
<li><code>painting_style</code>: Sets painting style (fill or stroke).</li>
</ul>
</li>
<li>
<p><strong>Text</strong> (usually inherited by child nodes):</p>
<ul>
<li><code>text_style</code>: Sets font style.</li>
<li><code>text_align</code>: Sets text alignment.</li>
<li><code>text_line_height</code>: Sets line height.</li>
<li><code>font_size</code>: Sets font size.</li>
<li><code>font_face</code>: Sets font family.</li>
</ul>
</li>
<li>
<p><strong>Other</strong>:</p>
<ul>
<li><code>keep_alive</code>: Keeps Widget state even when removed from view.</li>
<li><code>tooltips</code>: Sets tooltip text.</li>
<li><code>disabled</code>: Disables interaction for Widget and its children.</li>
<li><code>providers</code>: Sets provider context for the widget.</li>
<li><code>class</code>: Applies style classes.</li>
<li><code>reuse</code>: Reuse Widget by setting the reuse attribute. For local reuse, can be used with (LocalWidgets).</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-events">2. Events<a class="hash-link" aria-label="Direct link to 2. Events" title="Direct link to 2. Events" href="/docs/next/concepts/built_in_attributes_and_fat_obj#2-events">​</a></h3>
<p>These attributes are used to handle user interactions. All event callbacks receive an event object.</p>
<ul>
<li>
<p><strong>Pointer Events</strong>:</p>
<ul>
<li><code>on_pointer_down</code>: Triggered when a pointer (mouse button, touch contact, pen) is pressed.</li>
<li><code>on_pointer_move</code>: Triggered when a pointer moves.</li>
<li><code>on_pointer_up</code>: Triggered when a pointer is released.</li>
<li><code>on_pointer_cancel</code>: Triggered when a pointer event is cancelled (e.g., touch interruption).</li>
<li><code>on_pointer_enter</code>: Triggered when a pointer enters the widget&#x27;s area.</li>
<li><code>on_pointer_leave</code>: Triggered when a pointer leaves the widget&#x27;s area.</li>
<li><code>on_tap</code>: Triggered on a click or tap (press and release sequence).</li>
<li><code>on_tap_capture</code>: Capture phase version of <code>on_tap</code>.</li>
<li><code>on_double_tap</code>: Triggered on a double click/tap.</li>
<li><code>on_triple_tap</code>: Triggered on a triple click/tap.</li>
<li><code>on_x_times_tap</code>: Triggered on a specific number of taps.</li>
</ul>
</li>
<li>
<p><strong>Wheel Events</strong>:</p>
<ul>
<li><code>on_wheel</code>: Triggered when the mouse wheel is scrolled.</li>
<li><code>on_wheel_capture</code>: Capture phase version of <code>on_wheel</code>.</li>
<li><code>on_wheel_changed</code>: Triggered when the wheel delta changes.</li>
</ul>
</li>
<li>
<p><strong>Keyboard Events</strong>:</p>
<ul>
<li><code>on_key_down</code>: Triggered when a key is pressed.</li>
<li><code>on_key_down_capture</code>: Capture phase version of <code>on_key_down</code>.</li>
<li><code>on_key_up</code>: Triggered when a key is released.</li>
<li><code>on_key_up_capture</code>: Capture phase version of <code>on_key_up</code>.</li>
</ul>
</li>
<li>
<p><strong>Focus Events</strong>:</p>
<ul>
<li><code>on_focus</code>: Triggered when the widget gains focus.</li>
<li><code>on_blur</code>: Triggered when the widget loses focus.</li>
<li><code>on_focus_in</code>: Triggered when the widget or one of its descendants gains focus (bubbles).</li>
<li><code>on_focus_out</code>: Triggered when the widget or one of its descendants loses focus (bubbles).</li>
</ul>
</li>
<li>
<p><strong>Lifecycle Events</strong>:</p>
<ul>
<li><code>on_mounted</code>: Triggered when the widget is mounted to the widget tree.</li>
<li><code>on_performed_layout</code>: Triggered after the widget has been laid out.</li>
<li><code>on_disposed</code>: Triggered when the widget is removed from the widget tree.</li>
</ul>
</li>
<li>
<p><strong>IME Events</strong>:</p>
<ul>
<li><code>on_ime_pre_edit</code>: Triggered during IME pre-edit (e.g., composing text).</li>
<li><code>on_chars</code>: Triggered when text characters are received.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-scenarios">Usage Scenarios<a class="hash-link" aria-label="Direct link to Usage Scenarios" title="Direct link to Usage Scenarios" href="/docs/next/concepts/built_in_attributes_and_fat_obj#usage-scenarios">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-1-declaring-a-new-widget">Scenario 1: Declaring a New Widget<a class="hash-link" aria-label="Direct link to Scenario 1: Declaring a New Widget" title="Direct link to Scenario 1: Declaring a New Widget" href="/docs/next/concepts/built_in_attributes_and_fat_obj#scenario-1-declaring-a-new-widget">​</a></h3>
<p>In most cases, widgets are defined with the <code>#[declare]</code> macro. This means you can directly use built-in attributes when declaring a widget using the <code>@</code> syntax.</p>
<p>For example, the <code>Text</code> widget itself does not contain <code>margin</code> or <code>background</code> fields, but through the <code>#[declare]</code> and <code>FatObj</code> mechanism, you can use them directly during declaration:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ribir</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">prelude</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">simple_card_traditional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Widget</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;static</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">fn_widget!</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">Text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            text</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hello, Ribir!&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Built-in attributes: Layout</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">EdgeInsets</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">EdgeInsets</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">symmetrical</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            h_align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">HAlign</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Center</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Built-in attributes: Visual</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Color</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">from_u32</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0xFFEEAA00</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Border</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">BorderSide</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Color</span><span class="token punctuation" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">BLACK</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">into</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            radius</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Radius</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Built-in attributes: Interaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            on_tap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token closure-params">_</span><span class="token closure-params punctuation" style="color:#393A34">:</span><span class="token closure-params"> </span><span class="token closure-params operator" style="color:#393A34">&amp;</span><span class="token closure-params keyword" style="color:#00009f">mut</span><span class="token closure-params"> </span><span class="token closure-params class-name">PointerEvent</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Card Tapped!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cursor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">CursorIcon</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Pointer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">into_widget</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-2-wrapping-an-existing-widget">Scenario 2: Wrapping an Existing Widget<a class="hash-link" aria-label="Direct link to Scenario 2: Wrapping an Existing Widget" title="Direct link to Scenario 2: Wrapping an Existing Widget" href="/docs/next/concepts/built_in_attributes_and_fat_obj#scenario-2-wrapping-an-existing-widget">​</a></h3>
<p>When you need to add built-in attributes to an already constructed Widget instance (e.g., a widget passed as a function argument, or a widget in a variable), you can use the <code>@FatObj { ... }</code> syntax.</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ribir</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">prelude</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">simple_card</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Widget</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;static</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Widget</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;static</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">fn_widget!</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Wrap the widget with FatObj to add built-in attributes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">FatObj</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">EdgeInsets</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            padding</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">EdgeInsets</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">symmetrical</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            h_align</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">HAlign</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Center</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            background</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Color</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">from_u32</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0xFFEEAA00</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            border</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Border</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">BorderSide</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Color</span><span class="token punctuation" style="color:#393A34">::</span><span class="token constant" style="color:#36acaa">BLACK</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">into</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            radius</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Radius</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            on_tap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token closure-params">_</span><span class="token closure-params punctuation" style="color:#393A34">:</span><span class="token closure-params"> </span><span class="token closure-params operator" style="color:#393A34">&amp;</span><span class="token closure-params keyword" style="color:#00009f">mut</span><span class="token closure-params"> </span><span class="token closure-params class-name">PointerEvent</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Card Tapped!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cursor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">CursorIcon</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Pointer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Embed the child widget</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">@</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> w </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">into_widget</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This approach is very clear and idiomatic. It is recommended to use <code>@FatObj { ... }</code> instead of manually creating <code>FatObj::new(w)</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fatobj-core-mechanics">FatObj Core Mechanics<a class="hash-link" aria-label="Direct link to FatObj Core Mechanics" title="Direct link to FatObj Core Mechanics" href="/docs/next/concepts/built_in_attributes_and_fat_obj#fatobj-core-mechanics">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inner-wrapping-order-of-built-in-attributes">Inner Wrapping Order of Built-in Attributes<a class="hash-link" aria-label="Direct link to Inner Wrapping Order of Built-in Attributes" title="Direct link to Inner Wrapping Order of Built-in Attributes" href="/docs/next/concepts/built_in_attributes_and_fat_obj#inner-wrapping-order-of-built-in-attributes">​</a></h3>
<p><code>FatObj</code> wraps built-in attributes in a fixed order. This order determines the structure of the final widget tree and how attributes interact with each other.</p>
<p>The wrapping order from <strong>inner to outer</strong> is as follows (simplified for common attributes):</p>
<ol>
<li><strong>Content</strong> (The widget being wrapped)</li>
<li><code>padding</code></li>
<li><code>foreground</code></li>
<li><code>border</code></li>
<li><code>background</code></li>
<li><code>backdrop</code></li>
<li><code>filter</code></li>
<li><code>clip_boundary</code></li>
<li><code>box_shadow</code></li>
<li><code>radius</code></li>
<li><code>scrollable</code></li>
<li><code>layout_box</code></li>
<li><code>providers</code></li>
<li><code>class</code></li>
<li><code>clamp</code> (constrained_box)</li>
<li><code>tooltips</code></li>
<li><code>margin</code></li>
<li><code>cursor</code></li>
<li><strong>Events</strong> (<code>mix_builtin</code>: <code>on_tap</code>, <code>on_pointer_move</code>, etc.)</li>
<li><code>transform</code></li>
<li><code>opacity</code></li>
<li><code>visibility</code></li>
<li><code>disabled</code></li>
<li><code>h_align</code> / <code>v_align</code></li>
<li><code>anchor</code> / <code>global_anchor</code></li>
<li><code>keep_alive</code></li>
<li><code>reuse</code></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-takeaways">Key Takeaways<a class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways" href="/docs/next/concepts/built_in_attributes_and_fat_obj#key-takeaways">​</a></h4>
<p>Because wrapping has a fixed order, attributes wrapped in outer layers will affect the scope of attributes in inner layers. If you set multiple built-in attributes and find that the effect does not meet expectations, you can try adjusting the order of the attributes.</p>
<ul>
<li><strong>Events include Margin</strong>: Since <strong>Events</strong> wrap <strong>Margin</strong>, the interactive area of a widget includes its margin by default.</li>
<li><strong>Transform affects everything</strong>: <code>transform</code> wraps most visual and layout attributes, so rotating a widget rotates its margin, background, and border as well.</li>
<li><strong>Visibility hides everything</strong>: <code>visibility</code> is near the outermost layer, so setting it to hidden hides the entire widget including its margin.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-override-the-order">How to Override the Order?<a class="hash-link" aria-label="Direct link to How to Override the Order?" title="Direct link to How to Override the Order?" href="/docs/next/concepts/built_in_attributes_and_fat_obj#how-to-override-the-order">​</a></h3>
<p>Sometimes the default wrapping order doesn&#x27;t match your requirements. For example, you might want the click area (<code>on_tap</code>) to <strong>exclude</strong> the margin.</p>
<p>Since <code>FatObj</code> applies attributes in a fixed order, you can achieve this by manually nesting <code>FatObj</code>. You can apply the inner attributes first, and then wrap it with another <code>FatObj</code> for the outer attributes.</p>
<p><strong>Example: Click area excluding margin</strong></p>
<p>If you simply write:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">@</span><span class="token class-name">FatObj</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">EdgeInsets</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on_tap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token closure-params">_</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Clicked!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">@</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> w </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The structure is <code>MixBuiltin(Margin(w))</code>, so clicking the margin triggers the event.</p>
<p>To exclude the margin from the click area, you want the structure <code>Margin(MixBuiltin(w))</code>. You can do this by:</p>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property" style="color:#36acaa">fn_widget!</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Outer FatObj handles margin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">FatObj</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        margin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">EdgeInsets</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Inner FatObj handles the click event</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">FatObj</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            on_tap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token closure-params">_</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Clicked inside content (excluding margin)!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">@</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> w </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By nesting <code>FatObj</code>, you have full control over the composition order of attributes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-dynamic-access--modification">Advanced: Dynamic Access &amp; Modification<a class="hash-link" aria-label="Direct link to Advanced: Dynamic Access &amp; Modification" title="Direct link to Advanced: Dynamic Access &amp; Modification" href="/docs/next/concepts/built_in_attributes_and_fat_obj#advanced-dynamic-access--modification">​</a></h2>
<p>Built-in attributes (like <code>opacity</code>, <code>background</code>, <code>margin</code>) are properties of the <code>FatObj</code> wrapper. In a declarative UI, you typically bind these properties to state during creation. However, <strong>if you need to modify them dynamically from code (e.g., inside an event handler) or pipe! the field, you have to access the field&#x27;s Writer.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="simple-follower-example-one-component-follows-another">Simple Follower Example (one component follows another)<a class="hash-link" aria-label="Direct link to Simple Follower Example (one component follows another)" title="Direct link to Simple Follower Example (one component follows another)" href="/docs/next/concepts/built_in_attributes_and_fat_obj#simple-follower-example-one-component-follows-another">​</a></h3>
<div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ribir</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">prelude</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// A tiny example where `follower`&#x27;s `background` follows `leader`&#x27;s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// `background`. Clicking the `leader` toggles its background color; the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// `follower` updates automatically because it binds to `leader`&#x27;s writer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// via `pipe!($read(...))`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">follower_example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token class-name">Widget</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token lifetime-annotation symbol" style="color:#36acaa">&#x27;static</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token macro property" style="color:#36acaa">fn_widget!</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Create stateful handles so we can access built-in attributes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">mut</span><span class="token plain"> leader </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">Text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> text</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Leader (click me)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Follower: bind background to leader&#x27;s background so it follows.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> follower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">Text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          text</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Follower (follows leader)&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          background</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token macro property" style="color:#36acaa">pipe!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">$read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">leader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">background</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">clone</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> seed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Instant</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">@</span><span class="token class-name">Column</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// Leader: clicking toggles its background color</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">@</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">leader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cursor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">CursorIcon</span><span class="token punctuation" style="color:#393A34">::</span><span class="token class-name">Pointer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            on_tap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">move</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token closure-params">_</span><span class="token closure-params closure-punctuation punctuation" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token operator" style="color:#393A34">*</span><span class="token variable" style="color:#36acaa">$write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">leader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">background</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">Color</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">from_u32</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seed</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">elapsed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as_millis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">u32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">into</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">@</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> follower </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">into_widget</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Notes:</p>
<ul>
<li>The <code>leader</code> is a stateful handle created with <code>@</code>. Its <code>on_tap</code> event toggles its <code>background</code> using <code>$write</code> to update it.</li>
<li>The <code>follower</code> binds its <code>background</code> to <code>leader</code>&#x27;s background using <code>pipe!($read(...)).map(...)</code>, so it updates automatically whenever the leader&#x27;s background changes.</li>
<li>This pattern is useful when multiple widgets should visually reflect a single source of truth (theme, selection, focus, etc.) without manually propagating events.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" href="/docs/next/concepts/built_in_attributes_and_fat_obj#summary">​</a></h2>
<p><code>FatObj</code> is the key to Ribir&#x27;s flexibility. It allows any Widget to have rich common capabilities while keeping the core Widget definition concise. Through built-in attributes, you can quickly build beautiful and interactive UIs without repeatedly implementing these basic features for each Widget.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-01-19T03:03:42.000Z" itemprop="dateModified">Jan 19, 2026</time></b> by <b>RChangelog[bot]</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/concepts/widgets_composition"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Widget System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/concepts/state_management"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">State Management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#the--instantiation-process">The <code>@</code> Instantiation Process</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#declare-options"><code>#[declare]</code> Options</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#what-is-fatobj">What is FatObj?</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#how-it-works">How It Works</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#common-built-in-attributes">Common Built-in Attributes</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#1-properties">1. Properties</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#2-events">2. Events</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#usage-scenarios">Usage Scenarios</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#scenario-1-declaring-a-new-widget">Scenario 1: Declaring a New Widget</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#scenario-2-wrapping-an-existing-widget">Scenario 2: Wrapping an Existing Widget</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#fatobj-core-mechanics">FatObj Core Mechanics</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#inner-wrapping-order-of-built-in-attributes">Inner Wrapping Order of Built-in Attributes</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#how-to-override-the-order">How to Override the Order?</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#advanced-dynamic-access--modification">Advanced: Dynamic Access &amp; Modification</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#simple-follower-example-one-component-follows-another">Simple Follower Example (one component follows another)</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/next/concepts/built_in_attributes_and_fat_obj#summary">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                  <a href="https://www.ribir.org" target="_blank" rel="noreferrer noopener" style="display: flex; align-items: center;">
                    <img src="/img/logo.svg" width="48" height="48" style="margin-right: 10px;">
                    <h2 class="bg-clip-text text-transparent bg-gradient-to-r from-blue-700 to-green-300" style="font-size: 30px; margin: 0;">Ribir</h2>
                  </a>                
                </li></ul></div><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/RibirX/Ribir" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Ribir org. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>